/*  jUri v0.1
    Mini-javascript library for handling url functions
    jUri by Enric Florit is licensed under a Creative Commons Attribution-ShareAlike 3.0 Unported License.
    You can read the license at http://creativecommons.org/licenses/by-sa/3.0/
    
    Email me:
    efz1005[at]gmail[dot]com */

var jUri=new Function,hashChangeEvent=function(a,b){this.old=a;this.new=b;this.newLoc=window.location};jUri.prototype={host:window.location.host,hostname:window.location.hostname,href:window.location.href,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol.replace(/:$/,""),get:window.location.search,fn:{checkhash:function(a,b){if(jUri.hash()!=a){b(new hashChangeEvent(a,jUri.hash()))}setTimeout('jUri.fn.checkhash("'+jUri.hash()+'", '+b+")",1)}},hash:function(a,b){if(a&&a instanceof RegExp){if(window.location.hash.replace(/^#/,"").match(a)){b?b():false;return true}else{return false}}else if(a){window.location.hash=a;return a}else{return window.location.hash.replace(/^#/,"")}},hashchange:function(a){jUri.fn.checkhash(jUri.hash(),a)},isHTTP:function(a){if(this.protocol.match(/^http$/)){a?a():false;return true}else{return false}},isHTTPS:function(a){if(this.protocol.match(/^https$/)){a?a():false;return true}else{return false}},vars:function(a){var b=this.get.replace(/^\?/,""),c=b.split("&"),d={};for(var e in c){var f=c[e].split("=");d[f[0]]=f[1]}if(a&&d[a])return d[a];return d},redirect:function(a,b){if(b){setTimeout("window.location.href='"+a+"'",b)}else{window.location.href=a}},isFile:function(a){if(this.pathname.match(/\.(html|htm|php|phtml|asp|shtml|cgi|jsp|pl)/i)){a?a():false;return true}else{return false}}};window.jUri=new jUri
